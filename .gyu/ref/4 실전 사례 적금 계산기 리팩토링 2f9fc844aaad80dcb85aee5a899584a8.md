# 4. ì‹¤ì „ ì‚¬ë¡€: ì ê¸ˆ ê³„ì‚°ê¸° ë¦¬íŒ©í† ë§

# **4. ì‹¤ì „ ì‚¬ë¡€: ì ê¸ˆ ê³„ì‚°ê¸° ë¦¬íŒ©í† ë§**

í† ìŠ¤ Frontend Accelerator ê¸°ìˆ  ê³¼ì œì¸ ì ê¸ˆ ê³„ì‚°ê¸°ë¥¼ ë¦¬íŒ©í† ë§í•œ ê³¼ì •ì„ ë‹¨ê³„ë³„ë¡œ ì •ë¦¬í•©ë‹ˆë‹¤.

## **í”„ë¡œì íŠ¸ ì •ë³´**

- **ê³¼ì œ**:Â [í† ìŠ¤ Growth Track Frontend Developer ê¸°ìˆ  ê³¼ì œ](https://github.com/toss-fe-interview/frontend-accelerator-5th-pre-course)
- **PR**:Â [https://github.com/toss-fe-interview/frontend-accelerator-5th-pre-course/pull/12](https://github.com/toss-fe-interview/frontend-accelerator-5th-pre-course/pull/12)

## **í•µì‹¬ ì›ì¹™ ì ìš©**

### **ì ìš©í•œ ì›ì¹™**

1. **Render Props íŒ¨í„´**Â - Container/Presentational íŒ¨í„´ê³¼ ìœ ì‚¬í•˜ê²Œ ì‚¬ìš©
2. **ë¶„ë¦¬ì˜ ë¹„ìš©**Â - ì •ë§ í•„ìš”í•  ë•Œë§Œ ë¶„ë¦¬í•˜ê¸°
3. **UIì™€ 1:1 ëŒ€ì‘**Â - ì½”ë“œì™€ UIê°€ ì§ì ‘ì ìœ¼ë¡œ ë§¤í•‘

> ë¶„ë¦¬ì˜ ë¹„ìš©ì€ ì •ë§ í¬ë‹¤! ì •ë§ í•„ìš”í•  ë•Œë§Œ ë¶„ë¦¬í•˜ê¸° â†’ ë¬´ì§€ì„± ì»¤ìŠ¤í…€í›…ìœ¼ë¡œ ë¬¶ëŠ” ê²ƒì€ ë‚­ë¹„ (ì±…ì„ ì—†ëŠ” ì¾Œë½, í•´ë‹¹ ë¡œì§ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±í•´.. í•˜ë©´ ì–´ë ¤ì›Œì§)
> 

### **ì•ˆí‹°íŒ¨í„´ ì˜ˆì‹œ**

```tsx
// âŒ useSavingProducts í›…ì€ ë°˜í™˜ ê°’ì´ savingProductsë¡œ ì˜ˆìƒë¨
const { selectedProduct, handleSelectProduct, filterSavingsProducts } =
  useSavingsProducts(savingsProducts, monthlyProduct, term)

```

**ë¬¸ì œì :**

- ë°˜í™˜ê°’ì´ ì˜ˆìƒê³¼ ë‹¤ë¦„ (selected, handle, filterê°€ ë‚˜ì˜´)
- savingsProductsê°€ ì•„ë‹Œ selectì™€ filterì˜ ê´€ì‹¬ì‚¬ë¥¼ ë‹¤ë£¸

## **ë¦¬íŒ©í† ë§ ê³¼ì •**

### **1ë‹¨ê³„: í˜ì´ì§€ êµ¬ì¡°ë¥¼ UIì™€ 1:1 ëŒ€ì‘**

### **Before: êµ¬ì¡°ê°€ ìˆ¨ê²¨ì ¸ ìˆìŒ**

```tsx
<NavigationBar title="ì ê¸ˆ ê³„ì‚°ê¸°" />
<Spacing size={16} />

<SavingFilterForm control={form.control} />
<Spacing size={24} />

<AsyncBoundary
  pendingFallback={<ListRow contents={<ListRow.Texts type="1RowTypeA" top="ìƒí’ˆ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘..." />} />}
  rejectedFallback={SavingProductErrorFallback}
>
  <SavingsCalculatorContents targetAmount={targetAmount} monthlyPayment={monthlyPayment} term={term} />
</AsyncBoundary>
<Spacing size={40} />

```

**ë¬¸ì œì :**

- `SavingFilterForm`ìœ¼ë¡œ ì…ë ¥ ìš”ì†Œ ìˆ¨ê¹€
- `SavingsCalculatorContents`ë¡œ Tab ë‚´ìš© ìˆ¨ê¹€
- UIì™€ ì½”ë“œê°€ 1:1ë¡œ ë³´ì´ì§€ ì•ŠìŒ

### **After: UIì™€ ì½”ë“œê°€ 1:1 ëŒ€ì‘**

```tsx
return (
  <>
    <NavigationBar title="ì ê¸ˆ ê³„ì‚°ê¸°" />
    <Spacing size={16} />

    <div css={{ display: 'flex', flexDirection: 'column', gap: 16 }}>
      <CurrencyTextField
        label="ëª©í‘œ ê¸ˆì•¡"
        placeholder="ëª©í‘œ ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”"
        value={targetAmount}
        onChange={value => form.setValue('targetAmount', value)}
      />
      <CurrencyTextField
        label="ì›” ë‚©ì…ì•¡"
        placeholder="í¬ë§ ì›” ë‚©ì…ì•¡ì„ ì…ë ¥í•˜ì„¸ìš”"
        value={monthlyPayment}
        onChange={value => form.setValue('monthlyPayment', value)}
      />
      <SelectTermField
        label="ì €ì¶• ê¸°ê°„"
        title="ì €ì¶• ê¸°ê°„ì„ ì„ íƒí•´ì£¼ì„¸ìš”"
        options={[
          { value: 6, label: '6ê°œì›”' },
          { value: 12, label: '12ê°œì›”' },
          { value: 24, label: '24ê°œì›”' },
        ]}
        value={term}
        onSelect={value => form.setValue('term', value)}
      />
    </div>
    <Spacing size={24} />

    {/* Tab êµ¬ì¡°ë„ ìƒìœ„ë¡œ í¼ì¹¨ */}
    <Tab defaultValue={TAB.products}>
      <Tab.Item value={TAB.products}>ì ê¸ˆ ìƒí’ˆ</Tab.Item>
      <Tab.Item value={TAB.results}>ê³„ì‚° ê²°ê³¼</Tab.Item>

      <Tab.Content value={TAB.products}>
        {/* ì ê¸ˆ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ */}
      </Tab.Content>

      <Tab.Content value={TAB.results}>
        {/* ê³„ì‚° ê²°ê³¼ */}
      </Tab.Content>
    </Tab>
  </>
);

```

**ê°œì„ ì :**

- ì…ë ¥ ìš”ì†Œê°€ ëª…í™•íˆ ë³´ì„
- ê° ì…ë ¥ì˜ ì—­í• ì´ label, placeholderë¡œ ë“œëŸ¬ë‚¨
- UI ê¸°íšì„œë¥¼ ë³´ë©´ì„œ ì½”ë“œë¥¼ ì½ì„ ìˆ˜ ìˆìŒ

### **2ë‹¨ê³„: Form ì˜ì—­ ê°œì„  (í¼ì¹˜ê¸° â†’ ë­‰ì¹˜ê¸°)**

### **ì‘ì—… ê³¼ì •**

1. **[í¼ì¹˜ê¸°]**Â Form ì•ˆì— ìˆ¨ê²¨ì ¸ ìˆë˜ ì…ë ¥ ìš”ì†Œë“¤ì„ ìƒìœ„ë¡œ ê°€ì ¸ì˜´
2. **[ê´€ì°°]**Â í¼ì¹œ ìƒíƒœì—ì„œ UIì™€ 1:1ì²˜ëŸ¼ ë³´ì´ê¸° ìœ„í•´ì„œ ê³ ë¯¼ ì‹œì‘
3. **[ì¶”ìƒí™”]**Â ì…ë ¥ ìš”ì†Œë¥¼ ì¸ì§€í•˜ê¸° ìœ„í•œ ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„

### **CurrencyTextField ì»´í¬ë„ŒíŠ¸**

```tsx
import { ComponentProps } from 'react';
import { TextField } from 'tosslib';
import { formatCurrency } from 'utils/format';
import { onlyNumbers } from 'utils/input';

type TextFieldProps = ComponentProps<typeof TextField>;

interface Props extends Omit<TextFieldProps, 'value' | 'onChange'> {
  value: number | null;
  onChange: (value: number | null) => void;
}

// í•´ë‹¹ ë¶€ë¶„ë„ Currencyì— ë„ë©”ì¸ ê°œë…ì´ ë“¤ì–´ê°€ ìˆìŒ
// ì´ìœ ëŠ” "ì›"ì´ ìˆì–´ì„œ ìœ„ì™€ ê°™ì´ ê³ ë¯¼í–ˆëŠ”ë° ì—¬ê¸°ì— ê°‡í˜”ë˜ê±° ì•„ë‹ê¹Œ í•˜ëŠ” ìƒê°ì´ ë“¤ìŒ
export function CurrencyTextField({ value, onChange, suffix = 'ì›', ...props }: Props) {
  return (
    <TextField
      suffix={suffix}
      {...props}
      value={value ? formatCurrency(value) : ''}
      onChange={event => {
        const numbers = onlyNumbers(event.target.value);
        onChange(numbers ? Number(numbers) : null);
      }}
    />
  );
}

```

**ì„¤ê³„ ì˜ë„:**

- `value`,Â `onChange`: TextField ì œì–´
- `label`,Â `placeholder`: ì–´ë–¤ ì…ë ¥ í•­ëª©ì¸ì§€ í‘œí˜„
- UIì™€ 1:1 ë§¤í•‘

### **SelectTermField ì»´í¬ë„ŒíŠ¸**

```tsx
import { SavingsCalculatorTerm } from 'pages/SavingsCalculatorPage/types/saving-filter-form';
import { ComponentProps } from 'react';
import { SelectBottomSheet } from 'tosslib';

type SelectBottomSheetProps = ComponentProps<typeof SelectBottomSheet>;

interface Props extends Omit<SelectBottomSheetProps, 'value' | 'onChange' | 'children'> {
  options: Array<{ value: SavingsCalculatorTerm; label: string }>;
  value: SavingsCalculatorTerm;
  onSelect: (value: SavingsCalculatorTerm) => void;
}

export function SelectTermField({ options, value, onSelect, ...props }: Props) {
  return (
    <SelectBottomSheet {...props} value={value} onChange={onSelect}>
      {options.map(option => (
        <SelectBottomSheet.Option key={option.value} value={option.value}>
          {option.label}
        </SelectBottomSheet.Option>
      ))}
    </SelectBottomSheet>
  );
}

```

**ì„¤ê³„ ì˜ë„:**

- HTMLì˜Â `<select>`Â ìš”ì†Œì²˜ëŸ¼ ìƒê°
- `label`,Â `title`: ì–´ë–¤ ì†ì„±ì¸ì§€ ëª…ì‹œ
- `options`,Â `value`,Â `onSelect`: Select ì œì–´

> ğŸ’¡Â ì•ˆì—ì„œ ë°–ìœ¼ë¡œ í•˜ëŠ” ê²½ìš° ìœ„ì™€ ê°™ì´ propsë¥¼ ë°ì´í„° ì „ë‹¬ìš©ì´ ì•„ë‹Œ UIì™€ 1:1ë¡œ ë§¤ì¹­í•  ìˆ˜ ìˆëŠ” ê³„ê¸°ê°€ ë¨!
> 

### **3ë‹¨ê³„: Tab êµ¬ì¡° ê°œì„ **

### **Before: Tabì´ ìˆ¨ê²¨ì ¸ ìˆìŒ**

```tsx
<SavingsCalculatorContents targetAmount={targetAmount} monthlyPayment={monthlyPayment} term={term} />

```

- SavingsCalculatorContentsëŠ” ê° propsë¥¼ ì „ë‹¬í•˜ëŠ” ì—­í• ë§Œ ìˆ˜í–‰
- **ë¶ˆí•„ìš”í•œ ê³„ì¸µ**ì´ í•˜ë‚˜ ë” ìˆëŠ” ê²ƒê³¼ ê°™ìŒ

### **After: Tabì„ ìƒìœ„ë¡œ í¼ì¹¨**

```tsx
<Tab defaultValue={TAB.products}>
  <Tab.Item value={TAB.products}>ì ê¸ˆ ìƒí’ˆ</Tab.Item>
  <Tab.Item value={TAB.results}>ê³„ì‚° ê²°ê³¼</Tab.Item>

  <Tab.Content value={TAB.products}>
    {/* ì ê¸ˆ ìƒí’ˆ ë‚´ìš© */}
  </Tab.Content>

  <Tab.Content value={TAB.results}>
    {/* ê³„ì‚° ê²°ê³¼ ë‚´ìš© */}
  </Tab.Content>
</Tab>

```

**ê°œì„ ì :**

- Tabì˜ êµ¬ì¡°ê°€ ëª…í™•íˆ ë³´ì„
- Triggerì™€ Contentê°€ í•œëˆˆì— íŒŒì•…ë¨

### **4ë‹¨ê³„: ì ê¸ˆ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ (Render Props íŒ¨í„´)**

### **ì‘ì—… ê³¼ì •**

1. **[í¼ì¹˜ê¸°]**Â `SavingsProducts`Â ì»´í¬ë„ŒíŠ¸ ë‚´ìš©ì„ ìƒìœ„ë¡œ ê°€ì ¸ì˜´
2. **[ê´€ì°°]**Â ê¸°íšì„ ë³´ë©´ì„œ ë¬´ì—‡ì´ í•„ìš”í•œì§€ íŒŒì•…
    - ì ê¸ˆ ì´ë¦„, ì´ììœ¨, ë‚©ì… ì¡°ê±´
    - ì›” ë‚©ì…ì•¡, ì €ì¶• ê¸°ê°„ í•„í„°ë§
3. **[ê³ ë¯¼]**Â ë‘ ê°€ì§€ ë°©ë²• ì‹œë„

### **ë°©ë²• 1: Array ë©”ì†Œë“œ ì²´ì´ë‹**

```tsx
// âŒ Before: ë¡œì§ì´ í˜ì´ì§€ì— ë…¸ì¶œ
const filteredProducts = savingsProducts
  .filter(p => p.minMonthlyAmount <= monthlyPayment && monthlyPayment <= p.maxMonthlyAmount)
  .filter(p => p.availableTerms === term)
  .sort((a, b) => b.annualRate - a.annualRate);

{filteredProducts.length > 0
  ? filteredProducts.map(product => <ProductItem ... />)
  : <EmptyMessage />
}

```

**ë¬¸ì œì :**

- UI ë‹¨ì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ í˜¼í•©
- ë³¼ ë•Œë§ˆë‹¤ ë¡œì§ì„ ì¸ì§€í•´ì•¼ í•˜ëŠ” ë¶€ë‹´

### **ë°©ë²• 2: Render Props íŒ¨í„´ âœ…**

```tsx
// âœ… After: ë¡œì§ì€ ë‚´ë¶€ì—, ê²°ê³¼ë§Œ childrenìœ¼ë¡œ
<FilteredSavingsProducts savingsProducts={savingsProducts} filter={{ monthlyPayment, term }}>
  {_ => match(_)
    .with({ type: 'success' }, ({ products }) =>
      products.map(p => <ProductItem ... />))
    .with({ type: 'empty' }, () =>
      <ListRow ... top="ì¡°ê±´ì— ë§ëŠ” ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤." />)
    .exhaustive()
  }
</FilteredSavingsProducts>

```

**ê°œì„ ì :**

- í˜ì´ì§€ëŠ”Â **ë¬´ì—‡ì„ ë³´ì—¬ì¤„ì§€(What)**Â ë‹´ë‹¹
- ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ëŠ”Â **ì–´ë–»ê²Œ í•„í„°ë§í• ì§€(How)**Â ë‹´ë‹¹
- ì„±ê³µ/ì‹¤íŒ¨ ì¼€ì´ìŠ¤ë¥¼ ëª…í™•íˆ êµ¬ë¶„

### **FilteredSavingsProducts êµ¬í˜„**

```tsx
import { SavingsProduct } from '../models/savings-products.dto';
import { filterSavingsProducts } from '../models/savings-products.service';
import { SavingsFilter } from '../types/saving-filter-form';

export type FilteredProductsState =
  | { type: 'empty' }
  | { type: 'success'; products: SavingsProduct[] };

interface Props {
  savingsProducts: SavingsProduct[];
  filter: SavingsFilter;
  children: (state: FilteredProductsState) => React.ReactNode;
}

export function FilteredSavingsProducts({ savingsProducts, filter, children }: Props) {
  const filteredProducts = filterSavingsProducts(savingsProducts, filter);

  if (filteredProducts.length === 0) {
    return children({ type: 'empty' });
  }

  return children({ type: 'success', products: filteredProducts });
}

```

### **5ë‹¨ê³„: ê³„ì‚° ê²°ê³¼ (ë¦¬í”„ë¶€í„° ì¶”ìƒí™”)**

### **ì‘ì—… ê³¼ì •**

1. **[ë¦¬í”„ ì°¾ê¸°]**Â ê³„ì‚° ê²°ê³¼ í•­ëª© ì•„ì´í…œì´ ë¦¬í”„
2. **[UI ë¶„ì„]**Â "ì˜ˆìƒ ìˆ˜ìµ ê¸ˆì•¡", "ëª©í‘œ ê¸ˆì•¡ê³¼ì˜ ì°¨ì´", "ì¶”ì²œ ì›” ë‚©ì… ê¸ˆì•¡"
3. **[1:1 ë§¤í•‘]**Â ê° ì•„ì´í…œì„ ì–´ë–»ê²Œ í‘œí˜„í• ì§€ ê³ ë¯¼

### **CalculationResult (ë¶€ëª¨)**

```tsx
<CalculationResult selectedProduct={selectedProduct} filter={{ targetAmount, monthlyPayment, term }}>
  {_ =>
    match(_)
      .with(
        { type: 'success' },
        ({ result: { expectedAmount, difference, recommendedMonthlyPayment } }) => (
          <>
            <CalculationResultItem label="ì˜ˆìƒ ìˆ˜ìµ ê¸ˆì•¡" value={expectedAmount} />
            <CalculationResultItem label="ëª©í‘œ ê¸ˆì•¡ê³¼ì˜ ì°¨ì´" value={difference} />
            <CalculationResultItem label="ì¶”ì²œ ì›” ë‚©ì… ê¸ˆì•¡" value={recommendedMonthlyPayment} />
          </>
        )
      )
      .with({ type: 'productUnselected' }, () => (
        <ListRow contents={<ListRow.Texts type="1RowTypeA" top="ìƒí’ˆì„ ì„ íƒí•´ì£¼ì„¸ìš”." />} />
      ))
      .with({ type: 'requiredInputEmpty' }, () => (
        <ListRow contents={<ListRow.Texts type="1RowTypeA" top="ëª¨ë“  í•„ìˆ˜ ê°’ì„ ì…ë ¥í•´ì£¼ì„¸ìš”." />} />
      ))
      .exhaustive()
  }
</CalculationResult>

```

**ì„¤ê³„ ì˜ë„:**

- Render Props íŒ¨í„´ìœ¼ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìº¡ìŠí™”
- ê° ì¼€ì´ìŠ¤ë³„ë¡œ ëª…í™•í•œ UI í‘œí˜„

### **CalculationResultItem (ë¦¬í”„)**

```tsx
import { colors, ListRow } from 'tosslib';

interface Props {
  label: string;
  value: string;
}

export function CalculationResultItem({ label, value }: Props) {
  return (
    <ListRow
      contents={
        <ListRow.Texts
          type="2RowTypeA"
          top={label}
          topProps={{ color: colors.grey600 }}
          bottom={value}
          bottomProps={{ fontWeight: 'bold', color: colors.blue600 }}
        />
      }
    />
  );
}

```

**ì„¤ê³„ ì˜ë„:**

- ê³„ì‚° ê²°ê³¼ UIëŠ”Â `label`ê³¼Â `ê¸ˆì•¡`Â 2ê°œë§Œ í•„ìš”
- propsë¡œ UIì™€ 1:1 ë§¤í•‘

### **6ë‹¨ê³„: ì¶”ì²œ ìƒí’ˆ**

```tsx
<RecommendedProducts savingsProducts={savingsProducts} filter={{ monthlyPayment, term }}>
  {_ =>
    match(_)
      .with({ type: 'success' }, ({ products }) =>
        products.map(product => (
          <ProductItem
            key={product.id}
            product={product}
            selectedProduct={selectedProduct}
            onSelectProduct={handleSelectProduct}
          />
        ))
      )
      .with({ type: 'empty' }, () => (
        <ListRow contents={<ListRow.Texts type="1RowTypeA" top="ì¶”ì²œí•  ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤." />} />
      ))
      .exhaustive()
  }
</RecommendedProducts>

```

**ì„¤ê³„ ì˜ë„:**

- FilteredSavingsProductsì™€ ë™ì¼í•œ íŒ¨í„´
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ UIë¥¼ ëª…í™•íˆ ë¶„ë¦¬

## **ìµœì¢… ê²°ê³¼**

![á„…á…µá„‘á…¢á†¨á„á…©á„…á…µá†¼-á„€á…§á†¯á„€á…ª.png](4%20%EC%8B%A4%EC%A0%84%20%EC%82%AC%EB%A1%80%20%EC%A0%81%EA%B8%88%20%EA%B3%84%EC%82%B0%EA%B8%B0%20%EB%A6%AC%ED%8C%A9%ED%86%A0%EB%A7%81/%E1%84%85%E1%85%B5%E1%84%91%E1%85%A2%E1%86%A8%E1%84%90%E1%85%A9%E1%84%85%E1%85%B5%E1%86%BC-%E1%84%80%E1%85%A7%E1%86%AF%E1%84%80%E1%85%AA.png)

## **í•µì‹¬ êµí›ˆ**

### **1. í¼ì¹˜ê¸°ì˜ ì¤‘ìš”ì„±**

- ì²˜ìŒë¶€í„° ì „ì²´ ë‚´ìš©ì„ ì‘ì—…í•˜ì§€ ì•Šê³  Form ì˜ì—­ë¶€í„° í•œ ê³³ì— ëª¨ì•„ë‘ê¸°
- ìˆ¨ê²¨ì§„ ê²ƒì„ í¼ì³ì„œ ì „ì²´ë¥¼ ë³´ê¸°

### **2. UIì™€ 1:1 ë§¤í•‘**

- ì½”ë“œë¥¼ ì½ìœ¼ë©´ì„œ UIê°€ ê·¸ë ¤ì§€ë„ë¡
- ê¸°íšì„œì™€ ì½”ë“œê°€ ì¼ì¹˜í•˜ë„ë¡

### **3. ì•ˆì—ì„œ ë°–ìœ¼ë¡œ**

- ë¦¬í”„ ë…¸ë“œë¶€í„° ì‹œì‘
- ì ì§„ì ìœ¼ë¡œ ìƒìœ„ë¡œ í™•ì¥

### **4. ë¶„ë¦¬í•˜ì§€ ë§ˆ**

- ì •ë§ í•„ìš”í•œ ì¶”ìƒí™”ë§Œ
- ë¬´ì§€ì„± ì»¤ìŠ¤í…€ í›… ê¸ˆì§€

### ****Render Props íŒ¨í„´**

- Container/Presentational íŒ¨í„´ê³¼ ìœ ì‚¬
- What(ë¬´ì—‡ì„)ê³¼ How(ì–´ë–»ê²Œ)ì˜ ë¶„ë¦¬

---

