# fe-workflow v0.1 빌드 로그

> v0.1 범위: conventions/ + skills/fe-principles

## v0.1 최종 구조

```
fe-workflow/
├── .claude-plugin/
│   └── plugin.json                          ← 플러그인 메타데이터
│
├── conventions/                             ← SSOT (상세 규칙/패턴)
│   ├── code-principles.md                   ← 코드 철학/원칙 (톤 정리 완료)
│   ├── folder-structure.md                  ← 폴더 구조 (톤 정리 완료)
│   ├── api-layer.md                         ← API/타입 계층 (톤 정리 완료)
│   └── error-handling.md                    ← 에러 핸들링 (초판, 톤 정리 추후)
│
└── skills/
    └── fe-principles/
        └── SKILL.md                         ← 자동 로드 요약 (conventions 참조)
```

### 데이터 흐름

```
SKILL.md (자동 로드, 요약)
  ├→ conventions/code-principles.md
  ├→ conventions/folder-structure.md
  ├→ conventions/api-layer.md
  └→ conventions/error-handling.md

v0.2+ 예정:
  commands/ ─→ conventions/ 참조
  agents/  ─→ conventions/ 참조
```

## 소스 매핑

| 대상 파일 | 소스 | 액션 | 톤 정리 |
|-----------|------|------|---------|
| `code-principles.md` | notes: best-code/ | **NEW** | ✅ 완료 |
| `folder-structure.md` | 기존 convention | **KEEP** | ✅ 완료 (섹션 7 제거, 섹션 1 통합) |
| `api-layer.md` | 기존 + notes: api/ + react-query/ | **ENHANCE** | ✅ 완료 (대폭 정리) |
| `error-handling.md` | notes: error-handling/ | **NEW** | ⏳ 추후 |

### v0.1에서 제외 (v0.2+ 이관)

| 파일 | 이관 형태 | 사유 |
|------|-----------|------|
| `component-design.md` | conventions 선택적 추가 | 좋은 규칙은 code-principles에 포함. 나머지 프로젝트 특화 |
| `page-structure.md` | command/template (`/scaffold`) | 보일러플레이트 레시피, 컨벤션 아님 |
| `form-pattern` | conventions 추가 | 미작성 |
| notes: logger/ | 제외 | 프로젝트 특화 |

## 톤 정리 주요 변경

### code-principles.md
- 포맷 통일: `> 한 줄 핵심` → `### 규칙` → `### 예시(❌/✅)`
- AI 판단 불가한 애매한 기준 제거
- VO 패턴 불채택 → 개별 함수 추출
- `onChange={(value) => setMonth(value)}` 래핑 패턴 채택

### folder-structure.md
- 섹션 7 (개발 흐름) 제거 — 섹션 1 Page First와 중복
- 판단 기준 테이블만 섹션 1로 통합
- `{domain}/{feature}` → `{page}` 단순화

### api-layer.md (api-type-layer → 리네임)
- HttpClient 구현 → Remotes 규칙 1줄로 통합
- VO 패턴, SSR Hydration, 폴더 구조(중복) 제거
- 추가: SearchParamsBuilder, CursorPagination, DTO 파일 구성 패턴
- Params 네이밍: remotes HTTP prefix (`PostMerchantParams`)
- mutations: queryClient 직접 import, mutateAsync 선호

## 설계 결정

### conventions 원칙
- **액션 가능한 규칙** 중심 (튜토리얼 아님)
- DO/DON'T + 코드 예시 포맷 유지
- AI가 기계적으로 평가 가능한 구체적 규칙

### Skill ↔ Conventions 관계
- Skill: 자동 로드, 핵심 규칙 요약 (토큰 효율)
- Conventions: SSOT, 필요시 참조, 패턴+예시 포함
- 링크: `[conventions/file.md](../../conventions/file.md)`

### code-principles ↔ CLAUDE.md 관계
- CLAUDE.md: 원칙 ID + 한줄 요약 테이블 유지
- conventions/code-principles.md: 예시+설명 포함 상세 버전

### 기존 코드와의 관계
- `.gyu/plugin-design/conventions/` → SSOT 원본 유지 (참조용)
- `fe-workflow/conventions/` → 플러그인 배포본 (실사용)
- `~/.claude/skills/fe-principles/` → 레거시 (플러그인 완성 후 삭제 예정)
- `fe-toolkit/` → 레거시 (fe-workflow로 대체 예정)

## 진행 상태

- [x] 소스 분석 완료
- [x] 매핑 결정
- [x] 플러그인 골격 생성
- [x] conventions 파일 생성 (4/4)
- [x] 톤 정리 (3/4, error-handling 추후)
- [x] skills/fe-principles/SKILL.md 재작성
- [ ] 검증 (플러그인 로드 테스트)

## 참조

- 설계 마스터: `plugin-design.md`
- best-practices 원본: `/Users/gyu/git/notes/docs/best-practices/content/`
- 기존 conventions: `.gyu/plugin-design/conventions/`
- 레거시 Skill: `~/.claude/skills/fe-principles/SKILL.md`
